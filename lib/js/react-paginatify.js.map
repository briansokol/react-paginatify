{"version":3,"sources":["../../src/js/paginatify.js"],"names":[],"mappings":"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","file":"react-paginatify.js","sourcesContent":["import React from 'react';\nimport cx from 'classnames';\n\nclass Paginatify extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.props = props;\n    this.state = {page: props.page};\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.page !== this.state.page) {\n      this.setState({\n        page: nextProps.page\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"paginatify\">\n\n        {\n          this.props.pages > 1 ?\n            this.getPreviousLink()\n            : null\n        }\n\n        {\n          this.getPageLinks()\n        }\n\n        {\n          this.props.pages > 1 ?\n            this.getNextLink()\n            : null\n        }\n\n      </div>\n    );\n\n  }\n\n  setPage(newPage, button, e) {\n    e.preventDefault();\n    let oldPage = this.state.page;\n    this.setState({\n      page: newPage\n    });\n    if (typeof this.props.onChange === 'function') {\n      this.props.onChange(newPage, oldPage, button);\n    }\n  }\n\n  getPageLinks() {\n    let output = [];\n\n    if (this.props.pages < 1) {\n      return output;\n    }\n\n    // if Total less than 2(Inner + Outer) + 5 AND NOT truncate short\n    if (this.props.truncateNever || (this.props.pages < 2 * (this.props.innerPadding + this.props.outerPadding) + 5 && !this.props.truncateShort)) {\n      // output 1 to Total\n      for (let i = 1; i <= this.props.pages; i++) {\n        output.push(this.getLinkToPage(i));\n      }\n      return output;\n    }\n\n    // if Page > Inner + Outer + 2\n    if (this.state.page > this.props.innerPadding + this.props.outerPadding + 2) {\n      // output 1 to Outer\n      for (let i = 1; i <= this.props.outerPadding; i++) {\n        output.push(this.getLinkToPage(i));\n      }\n      // output ...\n      output.push(this.getTruncator(1));\n      // output Page - Inner to Page - 1\n      for (let i = this.state.page - this.props.innerPadding; i <= this.state.page - 1; i++) {\n        output.push(this.getLinkToPage(i));\n      }\n    } else {\n      // output 1 to Page - 1\n      for (let i = 1; i <= this.state.page - 1; i++) {\n        output.push(this.getLinkToPage(i));\n      }\n    }\n\n    // output page\n    output.push(this.getLinkToPage(this.state.page));\n\n    // if Page < Total - (Inner + Outer + 1)\n    if (this.state.page < this.props.pages - this.props.innerPadding - this.props.outerPadding - 1) {\n      // output Page + 1 to Page + Inner\n      for (let i = this.state.page + 1; i <= this.state.page + this.props.innerPadding; i++) {\n        output.push(this.getLinkToPage(i));\n      }\n      // output ...\n      output.push(this.getTruncator(2));\n      // output Total - (Outer - 1) to Total\n      for (let i = this.props.pages - (this.props.outerPadding - 1); i <= this.props.pages; i++) {\n        output.push(this.getLinkToPage(i));\n      }\n    } else {\n      // output Page + 1 to Total\n      for (let i = this.state.page + 1; i <= this.props.pages; i++) {\n        output.push(this.getLinkToPage(i));\n      }\n    }\n\n    return output;\n  }\n\n\n  getPreviousLink() {\n    return <a href=\"#\"\n              key=\"P\"\n              className={cx('paginatify__link', 'paginatify__link--previous', {'paginatify__link--disabled': this.state.page === 1})}\n              onClick={this.state.page !== 1 ? this.setPage.bind(this, this.state.page - 1, 'previous') : null}>\n      {this.props.prevLabel}\n    </a>;\n  }\n\n  getNextLink() {\n    return <a href=\"#\"\n              key=\"N\"\n              className={cx('paginatify__link', 'paginatify__link--next', {'paginatify__link--disabled': this.state.page === this.props.pages})}\n              onClick={this.state.page !== this.props.pages ? this.setPage.bind(this, this.state.page + 1, 'next') : null}>\n      {this.props.nextLabel}\n    </a>;\n  }\n\n  getLinkToPage(toPage) {\n    return <a href=\"#\"\n              key={toPage}\n              className={cx('paginatify__link', 'paginatify__link--page', {'paginatify__link--current': this.state.page === toPage})}\n              onClick={toPage !== this.state.page ? this.setPage.bind(this, toPage, 'page') : null}>\n      {toPage}\n    </a>;\n  }\n\n  getTruncator(key) {\n    return <span className=\"paginatify__truncation\"\n                 key={'T' + key}>\n      {this.props.truncateChar}\n    </span>;\n  }\n}\n\nPaginatify.propTypes = {\n  page: React.PropTypes.number.isRequired,\n  pages: React.PropTypes.number.isRequired,\n  onChange: React.PropTypes.func,\n  innerPadding: React.PropTypes.number,\n  outerPadding: React.PropTypes.number,\n  nextLabel: React.PropTypes.string,\n  prevLabel: React.PropTypes.string,\n  truncateChar: React.PropTypes.string,\n  truncateShort: React.PropTypes.bool,\n  truncateNever: React.PropTypes.bool\n};\n\nPaginatify.defaultProps = {\n  page: 1,\n  pages: 1,\n  onChange: null,\n  innerPadding: 1,\n  outerPadding: 1,\n  nextLabel: '>',\n  prevLabel: '<',\n  truncateChar: 'â€¦',\n  truncateShort: false,\n  truncateNever: false\n};\n\nmodule.exports = Paginatify;\n"]}