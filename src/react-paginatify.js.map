{"version":3,"sources":["../esm/react-paginatify.js"],"names":["Paginatify","props","state","page","nextProps","setState","newPage","button","e","preventDefault","oldPage","onChange","output","pages","truncateNever","innerPadding","outerPadding","truncateShort","i","push","getLinkToPage","getTruncator","setPage","bind","prevLabel","nextLabel","toPage","key","truncateChar","className","id","getPreviousLink","getPageLinks","getNextLink","Component","propTypes","PropTypes","number","isRequired","string","func","bool","defaultProps","module","exports"],"mappings":";;;;AAAA;;;;AACA;;;;;;;;;;;;IAEMA,U;;;AAgCJ,sBAAYC,KAAZ,EAAmB;AAAA;;AAAA,wHACXA,KADW;;AAEjB,UAAKC,KAAL,GAAa;AACXC,YAAMF,MAAME;AADD,KAAb;AAFiB;AAKlB;;;;8CAEyBC,S,EAAW;AACnC,UAAIA,UAAUD,IAAV,KAAmB,KAAKD,KAAL,CAAWC,IAAlC,EAAwC;AACtC,aAAKE,QAAL,CAAc;AACZF,gBAAMC,UAAUD;AADJ,SAAd;AAGD;AACF;;;4BAEOG,O,EAASC,M,EAAQC,C,EAAG;AAC1BA,QAAEC,cAAF;AACA,UAAMC,UAAU,KAAKR,KAAL,CAAWC,IAA3B;AACA,WAAKE,QAAL,CAAc;AACZF,cAAMG;AADM,OAAd;AAGA,UAAI,OAAO,KAAKL,KAAL,CAAWU,QAAlB,KAA+B,UAAnC,EAA+C;AAC7C,aAAKV,KAAL,CAAWU,QAAX,CAAoBL,OAApB,EAA6BI,OAA7B,EAAsCH,MAAtC;AACD;AACF;;;mCAEc;AACb,UAAMK,SAAS,EAAf;;AAEA,UAAI,KAAKX,KAAL,CAAWY,KAAX,GAAmB,CAAvB,EAA0B;AACxB,eAAOD,MAAP;AACD;;AAED;AACA,UAAI,KAAKX,KAAL,CAAWa,aAAX,IACC,KAAKb,KAAL,CAAWY,KAAX,GAAoB,KAAK,KAAKZ,KAAL,CAAWc,YAAX,GAA0B,KAAKd,KAAL,CAAWe,YAA1C,CAAD,GAA4D,CAA/E,IACA,CAAC,KAAKf,KAAL,CAAWgB,aAFjB,EAEiC;AAC/B;AACA,aAAK,IAAIC,IAAI,CAAb,EAAgBA,KAAK,KAAKjB,KAAL,CAAWY,KAAhC,EAAuCK,KAAK,CAA5C,EAA+C;AAC7CN,iBAAOO,IAAP,CAAY,KAAKC,aAAL,CAAmBF,CAAnB,CAAZ;AACD;AACD,eAAON,MAAP;AACD;;AAED;AACA,UAAI,KAAKV,KAAL,CAAWC,IAAX,GAAkB,KAAKF,KAAL,CAAWc,YAAX,GAA0B,KAAKd,KAAL,CAAWe,YAArC,GAAoD,CAA1E,EAA6E;AAC3E;AACA,aAAK,IAAIE,KAAI,CAAb,EAAgBA,MAAK,KAAKjB,KAAL,CAAWe,YAAhC,EAA8CE,MAAK,CAAnD,EAAsD;AACpDN,iBAAOO,IAAP,CAAY,KAAKC,aAAL,CAAmBF,EAAnB,CAAZ;AACD;AACD;AACAN,eAAOO,IAAP,CAAY,KAAKE,YAAL,CAAkB,CAAlB,CAAZ;AACA;AACA,aAAK,IAAIH,MAAI,KAAKhB,KAAL,CAAWC,IAAX,GAAkB,KAAKF,KAAL,CAAWc,YAA1C,EAAwDG,OAAK,KAAKhB,KAAL,CAAWC,IAAX,GAAkB,CAA/E,EAAkFe,OAAK,CAAvF,EAA0F;AACxFN,iBAAOO,IAAP,CAAY,KAAKC,aAAL,CAAmBF,GAAnB,CAAZ;AACD;AACF,OAXD,MAWO;AACL;AACA,aAAK,IAAIA,MAAI,CAAb,EAAgBA,OAAK,KAAKhB,KAAL,CAAWC,IAAX,GAAkB,CAAvC,EAA0Ce,OAAK,CAA/C,EAAkD;AAChDN,iBAAOO,IAAP,CAAY,KAAKC,aAAL,CAAmBF,GAAnB,CAAZ;AACD;AACF;;AAED;AACAN,aAAOO,IAAP,CAAY,KAAKC,aAAL,CAAmB,KAAKlB,KAAL,CAAWC,IAA9B,CAAZ;;AAEA;AACA,UAAI,KAAKD,KAAL,CAAWC,IAAX,GAAkB,KAAKF,KAAL,CAAWY,KAAX,GAAmB,KAAKZ,KAAL,CAAWc,YAA9B,GAA6C,KAAKd,KAAL,CAAWe,YAAxD,GAAuE,CAA7F,EAAgG;AAC9F;AACA,aAAK,IAAIE,MAAI,KAAKhB,KAAL,CAAWC,IAAX,GAAkB,CAA/B,EAAkCe,OAAK,KAAKhB,KAAL,CAAWC,IAAX,GAAkB,KAAKF,KAAL,CAAWc,YAApE,EAAkFG,OAAK,CAAvF,EAA0F;AACxFN,iBAAOO,IAAP,CAAY,KAAKC,aAAL,CAAmBF,GAAnB,CAAZ;AACD;AACD;AACAN,eAAOO,IAAP,CAAY,KAAKE,YAAL,CAAkB,CAAlB,CAAZ;AACA;AACA,aAAK,IAAIH,MAAI,KAAKjB,KAAL,CAAWY,KAAX,IAAoB,KAAKZ,KAAL,CAAWe,YAAX,GAA0B,CAA9C,CAAb,EAA+DE,OAAK,KAAKjB,KAAL,CAAWY,KAA/E,EAAsFK,OAAK,CAA3F,EAA8F;AAC5FN,iBAAOO,IAAP,CAAY,KAAKC,aAAL,CAAmBF,GAAnB,CAAZ;AACD;AACF,OAXD,MAWO;AACL;AACA,aAAK,IAAIA,MAAI,KAAKhB,KAAL,CAAWC,IAAX,GAAkB,CAA/B,EAAkCe,OAAK,KAAKjB,KAAL,CAAWY,KAAlD,EAAyDK,OAAK,CAA9D,EAAiE;AAC/DN,iBAAOO,IAAP,CAAY,KAAKC,aAAL,CAAmBF,GAAnB,CAAZ;AACD;AACF;;AAED,aAAON,MAAP;AACD;;;sCAGiB;AAChB,aACE;AAAA;AAAA;AACE,eAAI,GADN;AAEE,qBAAW,kBAAG,kBAAH,EAAuB,4BAAvB,EAAqD,EAAE,8BAA8B,KAAKV,KAAL,CAAWC,IAAX,KAAoB,CAApD,EAArD,CAFb;AAGE,mBAAS,KAAKD,KAAL,CAAWC,IAAX,KAAoB,CAApB,GAAwB,KAAKmB,OAAL,CAAaC,IAAb,CAAkB,IAAlB,EAAwB,KAAKrB,KAAL,CAAWC,IAAX,GAAkB,CAA1C,EAA6C,UAA7C,CAAxB,GAAmF;AAH9F;AAKG,aAAKF,KAAL,CAAWuB;AALd,OADF;AASD;;;kCAEa;AACZ,aACE;AAAA;AAAA;AACE,eAAI,GADN;AAEE,qBAAW,kBAAG,kBAAH,EAAuB,wBAAvB,EAAiD,EAAE,8BAA8B,KAAKtB,KAAL,CAAWC,IAAX,KAAoB,KAAKF,KAAL,CAAWY,KAA/D,EAAjD,CAFb;AAGE,mBAAS,KAAKX,KAAL,CAAWC,IAAX,KAAoB,KAAKF,KAAL,CAAWY,KAA/B,GAAuC,KAAKS,OAAL,CAAaC,IAAb,CAAkB,IAAlB,EAAwB,KAAKrB,KAAL,CAAWC,IAAX,GAAkB,CAA1C,EAA6C,MAA7C,CAAvC,GAA8F;AAHzG;AAKG,aAAKF,KAAL,CAAWwB;AALd,OADF;AASD;;;kCAEaC,M,EAAQ;AACpB,aACE;AAAA;AAAA;AACE,eAAKA,MADP;AAEE,qBAAW,kBAAG,kBAAH,EAAuB,wBAAvB,EAAiD,EAAE,6BAA6B,KAAKxB,KAAL,CAAWC,IAAX,KAAoBuB,MAAnD,EAAjD,CAFb;AAGE,mBAASA,WAAW,KAAKxB,KAAL,CAAWC,IAAtB,GAA6B,KAAKmB,OAAL,CAAaC,IAAb,CAAkB,IAAlB,EAAwBG,MAAxB,EAAgC,MAAhC,CAA7B,GAAuE;AAHlF;AAKGA;AALH,OADF;AASD;;;iCAEYC,G,EAAK;AAChB,aACE;AAAA;AAAA;AACE,qBAAU,wBADZ;AAEE,qBAASA;AAFX;AAIG,aAAK1B,KAAL,CAAW2B;AAJd,OADF;AAQD;;;6BAEQ;AACP,aACE;AAAA;AAAA;AACE,qBAAW,kBAAG,YAAH,EAAiB,KAAK3B,KAAL,CAAW4B,SAA5B,CADb;AAEE,cAAI,KAAK5B,KAAL,CAAW6B;AAFjB;AAMI,aAAK7B,KAAL,CAAWY,KAAX,GAAmB,CAAnB,GACI,KAAKkB,eAAL,EADJ,GAEI,IARR;AAYI,aAAKC,YAAL,EAZJ;AAgBI,aAAK/B,KAAL,CAAWY,KAAX,GAAmB,CAAnB,GACI,KAAKoB,WAAL,EADJ,GAEI;AAlBR,OADF;AAwBD;;;;EAjMsB,gBAAMC,S;;AAAzBlC,U,CAEGmC,S,GAAY;AACjBhC,QAAM,gBAAMiC,SAAN,CAAgBC,MAAhB,CAAuBC,UADZ;AAEjBzB,SAAO,gBAAMuB,SAAN,CAAgBC,MAAhB,CAAuBC,UAFb;AAGjBR,MAAI,gBAAMM,SAAN,CAAgBG,MAHH;AAIjBV,aAAW,gBAAMO,SAAN,CAAgBG,MAJV;AAKjB5B,YAAU,gBAAMyB,SAAN,CAAgBI,IALT;AAMjBzB,gBAAc,gBAAMqB,SAAN,CAAgBC,MANb;AAOjBrB,gBAAc,gBAAMoB,SAAN,CAAgBC,MAPb;AAQjBZ,aAAW,gBAAMW,SAAN,CAAgBG,MARV;AASjBf,aAAW,gBAAMY,SAAN,CAAgBG,MATV;AAUjBX,gBAAc,gBAAMQ,SAAN,CAAgBG,MAVb;AAWjBtB,iBAAe,gBAAMmB,SAAN,CAAgBK,IAXd;AAYjB3B,iBAAe,gBAAMsB,SAAN,CAAgBK;AAZd,C;AAFfzC,U,CAiBG0C,Y,GAAe;AACpBvC,QAAM,CADc;AAEpBU,SAAO,CAFa;AAGpBiB,MAAI,IAHgB;AAIpBD,aAAW,IAJS;AAKpBlB,YAAU,IALU;AAMpBI,gBAAc,CANM;AAOpBC,gBAAc,CAPM;AAQpBS,aAAW,GARS;AASpBD,aAAW,GATS;AAUpBI,gBAAc,GAVM;AAWpBX,iBAAe,KAXK;AAYpBH,iBAAe;AAZK,C;;;AAmLxB6B,OAAOC,OAAP,GAAiB5C,UAAjB","file":"react-paginatify.js","sourcesContent":["import React from 'react';\nimport cx from './cx';\n\nclass Paginatify extends React.Component {\n\n  static propTypes = {\n    page: React.PropTypes.number.isRequired,\n    pages: React.PropTypes.number.isRequired,\n    id: React.PropTypes.string,\n    className: React.PropTypes.string,\n    onChange: React.PropTypes.func,\n    innerPadding: React.PropTypes.number,\n    outerPadding: React.PropTypes.number,\n    nextLabel: React.PropTypes.string,\n    prevLabel: React.PropTypes.string,\n    truncateChar: React.PropTypes.string,\n    truncateShort: React.PropTypes.bool,\n    truncateNever: React.PropTypes.bool\n  };\n\n  static defaultProps = {\n    page: 1,\n    pages: 1,\n    id: null,\n    className: null,\n    onChange: null,\n    innerPadding: 1,\n    outerPadding: 1,\n    nextLabel: '>',\n    prevLabel: '<',\n    truncateChar: 'â€¦',\n    truncateShort: false,\n    truncateNever: false\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      page: props.page\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.page !== this.state.page) {\n      this.setState({\n        page: nextProps.page\n      });\n    }\n  }\n\n  setPage(newPage, button, e) {\n    e.preventDefault();\n    const oldPage = this.state.page;\n    this.setState({\n      page: newPage\n    });\n    if (typeof this.props.onChange === 'function') {\n      this.props.onChange(newPage, oldPage, button);\n    }\n  }\n\n  getPageLinks() {\n    const output = [];\n\n    if (this.props.pages < 1) {\n      return output;\n    }\n\n    // if Total less than 2(Inner + Outer) + 5 AND NOT truncate short\n    if (this.props.truncateNever ||\n        (this.props.pages < (2 * (this.props.innerPadding + this.props.outerPadding)) + 5 &&\n         !this.props.truncateShort)) {\n      // output 1 to Total\n      for (let i = 1; i <= this.props.pages; i += 1) {\n        output.push(this.getLinkToPage(i));\n      }\n      return output;\n    }\n\n    // if Page > Inner + Outer + 2\n    if (this.state.page > this.props.innerPadding + this.props.outerPadding + 2) {\n      // output 1 to Outer\n      for (let i = 1; i <= this.props.outerPadding; i += 1) {\n        output.push(this.getLinkToPage(i));\n      }\n      // output ...\n      output.push(this.getTruncator(1));\n      // output Page - Inner to Page - 1\n      for (let i = this.state.page - this.props.innerPadding; i <= this.state.page - 1; i += 1) {\n        output.push(this.getLinkToPage(i));\n      }\n    } else {\n      // output 1 to Page - 1\n      for (let i = 1; i <= this.state.page - 1; i += 1) {\n        output.push(this.getLinkToPage(i));\n      }\n    }\n\n    // output page\n    output.push(this.getLinkToPage(this.state.page));\n\n    // if Page < Total - (Inner + Outer + 1)\n    if (this.state.page < this.props.pages - this.props.innerPadding - this.props.outerPadding - 1) {\n      // output Page + 1 to Page + Inner\n      for (let i = this.state.page + 1; i <= this.state.page + this.props.innerPadding; i += 1) {\n        output.push(this.getLinkToPage(i));\n      }\n      // output ...\n      output.push(this.getTruncator(2));\n      // output Total - (Outer - 1) to Total\n      for (let i = this.props.pages - (this.props.outerPadding - 1); i <= this.props.pages; i += 1) {\n        output.push(this.getLinkToPage(i));\n      }\n    } else {\n      // output Page + 1 to Total\n      for (let i = this.state.page + 1; i <= this.props.pages; i += 1) {\n        output.push(this.getLinkToPage(i));\n      }\n    }\n\n    return output;\n  }\n\n\n  getPreviousLink() {\n    return (\n      <button\n        key=\"P\"\n        className={cx('paginatify__link', 'paginatify__link--previous', { 'paginatify__link--disabled': this.state.page === 1 })}\n        onClick={this.state.page !== 1 ? this.setPage.bind(this, this.state.page - 1, 'previous') : null}\n      >\n        {this.props.prevLabel}\n      </button>\n    );\n  }\n\n  getNextLink() {\n    return (\n      <button\n        key=\"N\"\n        className={cx('paginatify__link', 'paginatify__link--next', { 'paginatify__link--disabled': this.state.page === this.props.pages })}\n        onClick={this.state.page !== this.props.pages ? this.setPage.bind(this, this.state.page + 1, 'next') : null}\n      >\n        {this.props.nextLabel}\n      </button>\n    );\n  }\n\n  getLinkToPage(toPage) {\n    return (\n      <button\n        key={toPage}\n        className={cx('paginatify__link', 'paginatify__link--page', { 'paginatify__link--current': this.state.page === toPage })}\n        onClick={toPage !== this.state.page ? this.setPage.bind(this, toPage, 'page') : null}\n      >\n        {toPage}\n      </button>\n    );\n  }\n\n  getTruncator(key) {\n    return (\n      <span\n        className=\"paginatify__truncation\"\n        key={`T${key}`}\n      >\n        {this.props.truncateChar}\n      </span>\n    );\n  }\n\n  render() {\n    return (\n      <div\n        className={cx('paginatify', this.props.className)}\n        id={this.props.id}\n      >\n\n        {\n          this.props.pages > 1\n            ? this.getPreviousLink()\n            : null\n        }\n\n        {\n          this.getPageLinks()\n        }\n\n        {\n          this.props.pages > 1\n            ? this.getNextLink()\n            : null\n        }\n\n      </div>\n    );\n  }\n}\n\nmodule.exports = Paginatify;\n"]}