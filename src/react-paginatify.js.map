{"version":3,"sources":["../esm/react-paginatify.js"],"names":["Paginatify","state","page","props","nextProps","setState","newPage","button","e","preventDefault","oldPage","onChange","output","pages","truncateNever","innerPadding","outerPadding","truncateShort","i","push","getLinkToPage","getTruncator","setPage","bind","prevLabel","nextLabel","toPage","key","truncateChar","className","id","getPreviousLink","getPageLinks","getNextLink","Component","propTypes","PropTypes","number","isRequired","string","func","bool","defaultProps"],"mappings":"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","file":"react-paginatify.js","sourcesContent":["import React from 'react';\nimport cx from './cx';\n\nexport default class Paginatify extends React.Component {\n\n  static propTypes = {\n    page: React.PropTypes.number.isRequired,\n    pages: React.PropTypes.number.isRequired,\n    id: React.PropTypes.string,\n    className: React.PropTypes.string,\n    onChange: React.PropTypes.func,\n    innerPadding: React.PropTypes.number,\n    outerPadding: React.PropTypes.number,\n    nextLabel: React.PropTypes.string,\n    prevLabel: React.PropTypes.string,\n    truncateChar: React.PropTypes.string,\n    truncateShort: React.PropTypes.bool,\n    truncateNever: React.PropTypes.bool\n  };\n\n  static defaultProps = {\n    page: 1,\n    pages: 1,\n    id: null,\n    className: null,\n    onChange: null,\n    innerPadding: 1,\n    outerPadding: 1,\n    nextLabel: '>',\n    prevLabel: '<',\n    truncateChar: 'â€¦',\n    truncateShort: false,\n    truncateNever: false\n  };\n\n  state = {\n    page: this.props.page\n  };\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.page !== this.state.page) {\n      this.setState({\n        page: nextProps.page\n      });\n    }\n  }\n\n  setPage(newPage, button, e) {\n    e.preventDefault();\n    const oldPage = this.state.page;\n    this.setState({\n      page: newPage\n    });\n    if (typeof this.props.onChange === 'function') {\n      this.props.onChange(newPage, oldPage, button);\n    }\n  }\n\n  getPageLinks() {\n    const output = [];\n\n    if (this.props.pages < 1) {\n      return output;\n    }\n\n    // if Total less than 2(Inner + Outer) + 5 AND NOT truncate short\n    if (this.props.truncateNever ||\n        (this.props.pages < (2 * (this.props.innerPadding + this.props.outerPadding)) + 5 &&\n         !this.props.truncateShort)) {\n      // output 1 to Total\n      for (let i = 1; i <= this.props.pages; i += 1) {\n        output.push(this.getLinkToPage(i));\n      }\n      return output;\n    }\n\n    // if Page > Inner + Outer + 2\n    if (this.state.page > this.props.innerPadding + this.props.outerPadding + 2) {\n      // output 1 to Outer\n      for (let i = 1; i <= this.props.outerPadding; i += 1) {\n        output.push(this.getLinkToPage(i));\n      }\n      // output ...\n      output.push(this.getTruncator(1));\n      // output Page - Inner to Page - 1\n      for (let i = this.state.page - this.props.innerPadding; i <= this.state.page - 1; i += 1) {\n        output.push(this.getLinkToPage(i));\n      }\n    } else {\n      // output 1 to Page - 1\n      for (let i = 1; i <= this.state.page - 1; i += 1) {\n        output.push(this.getLinkToPage(i));\n      }\n    }\n\n    // output page\n    output.push(this.getLinkToPage(this.state.page));\n\n    // if Page < Total - (Inner + Outer + 1)\n    if (this.state.page < this.props.pages - this.props.innerPadding - this.props.outerPadding - 1) {\n      // output Page + 1 to Page + Inner\n      for (let i = this.state.page + 1; i <= this.state.page + this.props.innerPadding; i += 1) {\n        output.push(this.getLinkToPage(i));\n      }\n      // output ...\n      output.push(this.getTruncator(2));\n      // output Total - (Outer - 1) to Total\n      for (let i = this.props.pages - (this.props.outerPadding - 1); i <= this.props.pages; i += 1) {\n        output.push(this.getLinkToPage(i));\n      }\n    } else {\n      // output Page + 1 to Total\n      for (let i = this.state.page + 1; i <= this.props.pages; i += 1) {\n        output.push(this.getLinkToPage(i));\n      }\n    }\n\n    return output;\n  }\n\n\n  getPreviousLink() {\n    return (\n      <button\n        key=\"P\"\n        className={cx('paginatify__link', 'paginatify__link--previous', { 'paginatify__link--disabled': this.state.page === 1 })}\n        onClick={this.state.page !== 1 ? this.setPage.bind(this, this.state.page - 1, 'previous') : null}\n      >\n        {this.props.prevLabel}\n      </button>\n    );\n  }\n\n  getNextLink() {\n    return (\n      <button\n        key=\"N\"\n        className={cx('paginatify__link', 'paginatify__link--next', { 'paginatify__link--disabled': this.state.page === this.props.pages })}\n        onClick={this.state.page !== this.props.pages ? this.setPage.bind(this, this.state.page + 1, 'next') : null}\n      >\n        {this.props.nextLabel}\n      </button>\n    );\n  }\n\n  getLinkToPage(toPage) {\n    return (\n      <button\n        key={toPage}\n        className={cx('paginatify__link', 'paginatify__link--page', { 'paginatify__link--current': this.state.page === toPage })}\n        onClick={toPage !== this.state.page ? this.setPage.bind(this, toPage, 'page') : null}\n      >\n        {toPage}\n      </button>\n    );\n  }\n\n  getTruncator(key) {\n    return (\n      <span\n        className=\"paginatify__truncation\"\n        key={`T${key}`}\n      >\n        {this.props.truncateChar}\n      </span>\n    );\n  }\n\n  render() {\n    return (\n      <div\n        className={cx('paginatify', this.props.className)}\n        id={this.props.id}\n      >\n\n        {\n          this.props.pages > 1\n            ? this.getPreviousLink()\n            : null\n        }\n\n        {\n          this.getPageLinks()\n        }\n\n        {\n          this.props.pages > 1\n            ? this.getNextLink()\n            : null\n        }\n\n      </div>\n    );\n  }\n}\n"]}